/**
 * Cache result of function call and return it on the next calls with the same
 * arguments instead of running the function again.
 * @param fn - Pure function
 */
function memoize(fn)
{
  var cache = [];

  return function () {
    var argStr = JSON.stringify(arguments);
    if (cache[argStr] !== undefined)
      return cache[argStr];
    else
      return cache[argStr] = fn.apply(this, arguments);
    };
}

exports.memoize = memoize;
